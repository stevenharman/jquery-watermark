/*
	Watermark plugin for jQuery v1.1 (June 1, 2009)
	Copyright (c) 2009 Todd Northrop
	http://www.speednet.biz/
	Licensed under GPL 3, see  <http://www.gnu.org/licenses/>
*/
(function($){var g,h="watermark",i="watermarkText",j="watermarkMaxLength",k="watermarkClass",l="watermarkFocus",m="watermarkSubmit",n=":data("+h+")";$.extend($.expr[":"],{"data":function(a,b,c,d){var e,f=/^((?:[^=!^$*]|[!^$*](?!=))+)(?:([!^$*]?=)(.*))?$/.exec(c[3]);if(f){e=$(a).data(f[1]);if(e!==g){if(f[2]){e=""+e;switch(f[2]){case"=":return(e==f[3]);case"!=":return(e!=f[3]);case"^=":return(e.slice(0,f[3].length)==f[3]);case"$=":return(e.slice(-f[3].length)==f[3]);case"*=":return(e.indexOf(f[3])!==-1)}}return true}}return false}});$.watermark={className:"watermark",hide:function(a){$(a).filter(n).each(function(){$.watermark._hide($(this))})},_hide:function(a){if(a.val()==a.data(i)){a.val("");if(a.data(l)){a.attr("autocomplete","off");a.select();}if(a.data(j)){a.attr("maxLength",a.data(j));a.removeData(j)}}a.removeClass(a.data(k))},show:function(a){$(a).filter(n).each(function(){$.watermark._show($(this))})},_show:function(a){var b=a.val(),text=a.data(i);if(((b.length==0)||(b==text))&&(!a.data(l))){var c=a.attr("maxLength");if((c>0)&&(text.length>c)){a.data(j,c);a.attr("maxLength",text.length)}a.val(text);a.addClass(a.data(k))}else{$.watermark._hide(a)}},hideAll:function(){$.watermark.hide(":text")},showAll:function(){$.watermark.show(":text")}};$.fn.watermark=function(c,d){var e=(typeof(c)==="string"),hasClass=(typeof(d)==="string");return this.filter(":text").each(function(){var a=$(this);if(a.data(h)){if(e||hasClass){$.watermark._hide(a);if(e){a.data(i,c)}if(hasClass){a.data(k,d)}}}else{a.data(i,e?c:"");a.data(k,hasClass?d:$.watermark.className);a.data(h,1);a.focus(function(){a.data(l,1);$.watermark._hide(a)}).blur(function(){a.data(l,0);$.watermark._show(a)});var b=$(this.form);if(!b.data(m)){b.data(m,this.form.submit);this.form.submit=function(){$.watermark.hideAll();b.data(m).apply(b[0],arguments)}}}$.watermark._show(a)}).end()}})(jQuery);